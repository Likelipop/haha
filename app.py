import streamlit as st
import time
import random
def encode_text(text, key1, key2):
    """Shift ASCII of text characters using key1 and key2 alternately."""
    result = []
    for i, ch in enumerate(text):
        if ch.isascii():
            shift = key1 if i % 2 == 0 else key2
            result.append(chr((ord(ch) + shift) % 128))
        else:
            result.append(ch)
    return ''.join(result)

def decode_text(text, key1, key2):
    result = []
    for i, ch in enumerate(text):
        if ch.isascii():
            shift = key1 if i % 2 == 0 else key2
            result.append(chr((ord(ch) - shift) % 128))
        else:
            result.append(ch)
    return ''.join(result)



text2 = """\
@-=%-#%@-==-----------------------------------------------------------------------------------------------------------------------------------------===-========
==#*@@+@%#----**------------------------------------------------------------------------------------------------------------------------------------------======
@#+@%%-@@%@%+*%=--*------------------------------------------------------------------------------------------------------------------------------------------==-
@+-%@%@%@@@-%=--*%----------------------------------------------------------------------------------------------------------------------------------------------
-@#@%@%@@%@@@*=---+*#-------------------------------------------------------------------------------------------------------------------------------------------
-@+%%@=-=@=@@@%-------------------------------------------------------------------------------------------------------------------------------------------------
=@@@@@=#*:@**%%=------------------------------------------------------------------------------------------------------------------------------------------------
%#-@#%=@@--@*-%@=-----------------------------------------------------------------------------------------------------------------------------------------------
%@*#@##*=----@@%%-+---------------------------------------------------------------------------------------------------------------------------------------------
=@@@-@@-=%@=-*@------------------------------------------------------==-----------------------------------------------------------------------------------------
@@@=@#@@-*---=-%---------------------------------------------+=+%@@@@@@@%+++=-----------------------------------------------------------------------------------
%@#:%@#-=-------------------------------------------------=-+%@@@%%%%%##%%%#%=----------------------------------------------------------------------------------
:-+@=+%@%==---#-----------------------------------------==#%%@@@@%#*++++=++*%%%*=-------------------------------------------------------------------------------
--=:-@#+@%@@-*------------------------------------------+@@@@@%#*++++=======++%%#-------------------------------------------------------------------------------
-%=**#*-=#-=+-%+---------------------------------------=@@@@%%#**+++==========+*%=------------------------------------------------------------------------------
---%@%#@@%:--------------------------------------------@@@@@%%#**++=====----===+@%------------------------------------------------------------------------------
-:-%-@@%@---------------------------------------------=@@@@@%##**+++====----=+###%------------------------------------------------------------------------------
%%@--@*%=--=------------------------------------------+@@@@@%#***+++++++==-=++#++#-=@---------------------------------------------------------------------------
@=%@%:%-@-#=+*----------------------------------------=@@@@@%#***###*+===#-=+=#+#*--@---------------------------------------------------------------------------
*%@%#:%%*-%=-#----------------------------------------*@@@@@%####%**##+*=*%=*=======#---+=----------------------------------------------------------------------
@@%@+%%%%%*-------------------------------------------=@@@@@@%%#**#+=====+*==#=====+---+==---------------------------------------------=-==---------------------
:@%+#@@*+----------------------------------------------@@@@@%%##*+==-----%+=-==+#%-=--=*==:---------------------------------------------------------------------
*-:--%-------------------------------------------------+@@@@@%##*+++*%#*=*+*+++=+==+-=+-=-----------------------------------------------------------------------
--%---------------------------------------------------**@@@@%%%#*+++===+=====+==*==+-=-=----=-------------------------------------------------------------------
%=+#--------------------------------------------------+#+==*#%%#*+++==+*#+====**===*=-=-------------------------------------------------------------------------
:#%---------------------------------------------------=@@%%%++===+++====++++++===**=-=+-------------------------------------------------------------------------
%----------------------------------------------------==@@@@%%%%%#+--===============--=-=------------------------------------------------------------------------
*----------------------------------------------------=+@@@@@@%%%%%#+=---=======+==---=+-==---=+-----+=----------------------------------------------------------
-----------------------------------------------------=%@@@@@@@@%#%##**=-----++*==---=%##=**-+-+-----------------------------------------------------------------
---------------------------------------------------==+@@@@@@@@@@%#####*+=-----+===-==@@%=+--+=-----=----------------------------------------------------===--===
----------------------------------------------------=#@%%%@@@@@@@@@%###**+=--=*++=--==#@+----=----+---------------------------------------====-==-==============
----------------=-------------------------------=-==##@@%%%@@@@@@@@%%%%##*%@%%**++=--====+:--=--:=---------=-==-------==========================================
####*#**-*+*#*****#*###****=+----+--+-=---=-----===+*@@@@@@@#*%@@%%%%%%##%%###%@%*+========--=-::------------===================================================
**#*######*####%######%*####****##**%****+#+**+**###%#=-++=-------%@%%%#**+=----%#*+========#+-----=-------=--==-====+===========-=====-=+-=====================
#****#***+*******##%%##########*#*#***##*###*+###%%=+=-=------------%%%%#*+==---%%%*++====-====--=--=---:-:--:=###*###*+***=+**+=##+***#*****%#**#*=============
*********##**#*******++***#*##*+*=#****#*#%####%%%=====-=------------*%%#*+==--==%%%#++=*========+:+--+-------:######**##***###+##*+#*#%##*###*###***+****=+***+
#***++****###+*++++**+*+***+=+***+##*##%%%###-*#%@#++==--------=-----**#**+===--=%%%%#*++=============-----------=#*#####*###%##############%*###%###%**#%##%%##
**#*+#***###****+#****##**+***+++*#**#%##****+**@@*+=====-------------****+======+%%%**++++==============+=-::-::-%%########%*%%#%@%%%%%%#%%%#%##%#%%%#%%@%%####
%###=##+#*===+******+=+=+*+*+++++++++++=++**+++*%@*+======------------****+====-==-*:=+**+++==================----:***+*********#***########*##*####%%#*%%#%%#%%
+++===+===+*##+*+===++++=+=++++==+*+++=*++++*+*+*@#*+=====------------***++====--=--:-:-++++++==================---*****###%#%**#**####********+###%###%%%%%%%%%
====++========+++++=+*+=*==++++++==+=====+=+*=++*###**=====-----------***++====--==---=-:--*+++====================++++++++++++++++#+****+*++*+*****##*%##***%#*
+#====+==+++++=+==+=++++==+=+++++++++++*++++*+=*+**#**+======------=--***++====--==:=-+------=++===================+=+++++++++++++++++++++++++++++*#*********#**
*+=+==++=++++++++++++++++++*%**##****+**++++++*****#**#=====--=--*---+**+======---=---=+--::--*++====================++++++++++++++++++++++++++++==++**##%#%####
+++#*+*++=+***+++*+=*=+*+**++++*+++++++++++++=======***+--==-=--=----**+============--+=::-:=--*=+++===============++=++++++++++++++++++++++++++++++++++++++++++
##*****++*******++*##*+++**++==#*++=================#***=-=-+=------**++============--:-==-:=--:-==+++++===============++++++++++++++++++=++++++++++++++++++++++
##%%#%#*####***************########*%%%%#***+====+==##**+=+==-------*++=============--:=:-:-:=-----*=+++++=========---+++++++++*+****#****##*+*++++++**##**#*###
%%%%%%%##%%%%%#%#######%%%%%%%%###%%%%%%%%%%%%%%%%%%*#**#===-=---:=:*+==============--+=-=--::----::=*=+++++=======*##*****####******####*#*#*****#***#***######
%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%#%%%%##########%%%###+=-===--==#+==============--==-:==-:---------*#=++++=++*%%#########%###########%%######*#####*########
%%@@@%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%#######%############*##====-=++*+==============--==--+--::----------=*:-::=%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%#%%%%%%%#%#%%%%%%%%%%#%#####=*+#--**+++==============---::::====-----------------%%%%%%%%%%%%%##%**##**%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%#%%%%%%%%%%%%%%%#*###%%%#%%%%%%%%#%%%%%%%%%#%###%#####***+##**++++============----:::=-=-----------------::%#%%%%%#%%%%%%###%#####%%%%%%%%%%%%%%#%%%%%%%%%
%%#%##*###%%%%%%%#######%###%%%@%@%%%%%##%%%%%##*##%#####+=*#*++%%%#**+++++========------:::=--:------------:::---+%#%%%%%%@@%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%###
*#####*****#%%#####%##%%%##%#%%%%%@%%%#%%#######**######%*+*+**#######***++++======---------=-=:-----:::---:-:::---:@%@@@@@%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%
**#+**++**#*#########%%%####%%####%#*##*#%*%*%*#*######%%%##++#*****######*++++===+=--------:+=:----::-:-:----:::----%@@@@@@@%%%%#%#%%#%%%%%%%%%%%%%%%%%%%%%%%%%
*####%#**#####***##*+#%%#%%#%%**%###*###***#***#*#%##%#%%%##*=--=-=+**#####**++*+==-=-::::::-=-::--:::-:---:---:-----@@@%@@@%@%%%@%##%%%%%%%%%%%%%%%%%%%%%%%%%%%
+####*#############*%*###%%*#*##%*%#*#%#**#**%%%*###%%%%%%%%#---=---=======+*=-:====+----:---=:-:------:-------::----:@@@@@%%%%%%%@@#%#%%%%%%%%%%%%*#%%@%%%%%%%%
*#+###%#%#%#####**#%%%%%%###*%##+#%%%##*%*#+%%%%##%%%#%%%%%%%###*---======**=:-=-=:-+:----:--+------:--=--------:----::%%@@%@%%%@%%%@%%%#%%%%*%%%%%###%%%%%%#@%#
%#########%#*#*==#%#*#%###*###%***#%#%%@#####*##%%###%#%%%%@%%%%*---=====**=-:-==:--:+----:--==:-------=-------::-----:#%%%@%%@@@%%%%%%%##%%%#%%#%%%%#%%%%%%#%%#
%##%%###*###*#*%+**##*##%#%%%*%*%*%#@%%@#%#%#%%##%#%#%%%%%%%%%%%=--====***++-:-+=----+--:::----------::=---:-----:----:-%%%%%%#@@@%%%%%###%@@%##*%@@@@@@@%%*%%%%
%+#*###%%#++***#**%#+#**%%##%%%%#%%%@@%%%%##%%%%%%%%%%%%%%#%##*#=:-===***+--=---=---+=---::----------::=----------------:%%%%%#@@%%%%%%%%#*@%%%%@%%@@@@@@@%%%%%%
#%+++#%##*%#*+=++*++*#*%%%#%%%%%%%@@@@%@@%%%%%%@%%%%%%%%%%%@%%%%+--=*****-------=---+----------=-----:::----------------:=@@%@@@%@@@@%%#%%*%*%#*@%@@@@@@@@@@@%%%
+####+*%#*+=**+%#*#####%%%%%%%%%%%@%@%@@@@%@@%@@@@%%%%%%#%%%%%%%=+=**=***------==---=----:::---------:::----------------:-@%%@@@@@@%@@@%%%##@@%%%%%@%@#@@@@@@%%%
@%#+@%#**+*++*=%#*##=#%%%%%%%%%@%@%@@@@@@@@@@%%%@@@@%%#%%#%##%%*==+**=-**-----:+---=-----------------::-=----------:------:@@@@%@@@@%@%@%@%%%@@%%%%@@@%%%%@%#@@@
@@@%@%*#%*#*+*%%*=--:=*%#%%%%%%%%@%%@@@@@@@@@@@@@@%%%%%@@@%%%##++--**--+*------+=-=---------------------=-=----------------+@%%@@@@@@@@@%@%##%%#%%@@@@%#@@%@@@@@
"""


text1 = """\
:::::::::::::::::::::::::::::::::::::::::::::::::..:............................................................................................................
::::::::::::::::::::::::::::::::::::::::::::::::.:..::..........................................................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::...........................................................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::.............................................................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::++......-..................................................................................................
::::::::::::::::::::::::::::::::::::::::::::::::::*+:..*...-**..................................................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::*::..*...=*:.........:..........................+..............................................................
::::::::::::::::::::::::::::::::::::::::::::::::*:::.::..:*:........+.............................+.............................................................
:::::::::::::::::::::::::::::::::::::::::::::::*+::::....**...............:#=:.........**............=+..........=*-=...........................................
::::::::::::::::::::::::::::::::::::::::::::::-*:::::...+--:.*...*...*...*..*......=**..*.:**..#...#...#:*.:*..=*..=+...........................................
::::::::::::::::::::::::::::::::::::::::::::::-*::::::::*:::-*..*+..*:..*=....-....*=..+*..#..=*..#=..+*...+=..*..=*............................................
:::::::::::::::::::::::::::::::::::::::::::::::**::::*::#-..=*+..**.*-*.-*..*.....+=...#...*=+.*+.+=+.#....+++.+*.==-...........................................
:::::::::::::::::::::::::::::::::::::::::::::::::.::::::::......................................................=.*.............................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::........................................................*..............................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::.:.............................*=-.....................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::.:::....:#........................#.*......................................................................
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::.....=......................*:*.............................+#+:......................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::+#*:::.-*+-..............*..**..-*-.................................#......................................
:::::::::::::::::::::::::::::::::::::::::::*:*:#*::*+::#::-*......*-..#.......#+..:#.*.*.**..:*..-*.......#=+.-*...*..:*-:......................................
::::::::::::::::::::::::::::::::::::::::::**:::#::+*::*#.=*..-#..=#..+*.-....==...*:-**..#:..*..-#........*-..-*..*..:*.........................................
:::::::::::::::::::::::::::::::::::::::::-*::::*:+:##:*:-*=.=*+--.-=.#::.....#..+*..:*...*.+.*-*.*.*.....#....*==.*=*.*.*.......................................
::::::::::::::::::::::::::::::::::::::::::::::::::::+==............++:......-+..................................................................................
::::::::::::::::::::::::::::::::::::::::::::::::::+:==:..........*.=:.......*................+=.................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::-*::#=...:*....:.................-=.##....*..................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::#:::#*...:*:.......-*=..=#.......#.-:*...+...................................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::::..*-:...#...:........=*..........#.#=..*...................................................................
::::::::::::::::::::::::::::::::::::::::::::::::::::.:=*....*...*....*-#.:#..:.......=:.+*.*.....**+......=+....................................................
:::::::::::::::::::::::::::::::::::::::::::::::::::...*-:..+...*...*-.==.*...........#...#.*...*...:..+*+..*.**=................................................
::::::::::::::::::::::::::::::::::::::::::::::::::...+#...*...*:..+*+...=+...:......*....*=:..*...*...*+..**..#..-..............................................
::::::::::::::::::::::::::::::::::::::::::::::::.....*-..+....#-:=++..::=*..+.......*....**..-*.*-*.*+=...#...*.+...............................................
::::::::::::::::::::::::::::::::::::::::::::::.......:+:...........................=......+.....................................................................
:::::::::::::::::::::::::::::::::::::::::::::......................**...........................................................................................
::::::::::::::::::::::::::::::::::::::::::.::.................*:...*.....:*....*......*-...*-....:*....*........................................................
:::::::::::::::::::::::::::::::::::::::.::.:..:..............:*....#:...*+.....#=....-*..+.*....*=.....#-.......................................................
::::::::::::::::::::::::::::::::::::::::::::...:..............=....*...+#......#=....#....-*...*#......#=.......................................................
:::::::::::::::::::::::::::::::::::::::::::::.....................#-...*:......*:...*.....*:...*:......*........................................................
:::::::::::::::::::::::::::::::::::::::::::::....................*-...=*......+#...*:.....*...=*......**........................................................
:::::::::::::::::::::::::::::::::::::::::::::...................*.....=*.....:*...=+.....=-...=#.....-*.........................................................
:::::::::::::::::::::::::::::::::::::::::::................*+#*:.......*:...=*...:#......#.....*:...=*..........................................................
::::::::::::::::::::::::::::::::::::::::::.......................=*-....:**:.....#....:**+=+....-**:....:.......................................................
:::::::::::::::::::::::::::::::::::::::..................................................................--..............-..................................:...
:::::=:::::::::::::::::::.:::::::..::.....................................................................:::...:*==....--..................................-...
:::+:::::::::::::::::::..:::::::..........................................................................:-:==+++=:=+.:=:.................................=-..-
:==::..::::::::::::::.::..:...............................................................................:-+=+-:++****-:..................................=:.-=
=-+..:...:.:.:::.:........................................................................................:++*==+*+=+*+=..................................:=:***
-*.............................................................................-=..........................*+==+=+=++*++...................................-#***
....:..::.................................................................---:-==.....................:=-+.***+=-:===++*........--::::..............-......:=+*+
:.........==:.....:+-......-:-.....................***.......:..........----:----.:+++--...---=--...::-----=#=+=---:=+**........:::-:::--..........=-.......*=+=
..:.:..========+**+*--==...:::::-..............:+==+***+++++=++-.......-::--+-=--.:++*****=++++====-......:+==+=--::+++---:......--::-:::::.......==++.....=+***
.::::.:==-===+++***+**:=+..-:-::---...........*++-=+#==---=+=++++.....:----=-:--..-==:---+#=-==***===-........++*++*.:==-=--:..:-:::::=:::::.....+===--....-=*#.
-==++**+====+++**##*+*#:-=-::.=::.:-.........#*+++##+++==--++*++++.....-:=:--=-:.:+=-=*+=##*##*****+*+=.......==-*.....:::::.::::.--:--:=:::::..*-===++=-..=-:++
=*****+##+==+++***###**+-=++-==+..::-........***#**#**++==*#***++++.....=:----=.=++=*#***##*=---+##***==......-=+....:-:::.::::....:-:::::-::-.:==++++**-++*=+#*
*****++++++**++***###+**-+*+++===..:......+=+***##****+=-*#*--***++=...-....:--=**++#+=======----===#**+:.....==...::::.::::::::....=:::::-=::.:==######-+*-#=--
**##+++++====+*===+++*+--***+===:::......===++==++++++=*+==*=-=**++--.:...:..+++*-*=========--======+**+=.....=....::::-:::::::...******::--+...+====++***=#-=++
*+*#=+==+=*+======+++=+=***++=---=....:::+++*=====+=++#**+*+===**++--..--::::++*+*-=+++++++++*+++++++-=------:+...:.:-::::::::.:*+****##=.......:==-+++=++++=+++
++=*==-=-+++=+===++++=+**#**+--:-=:..:---+++*=+===+=++#***=+*=+**+=-=====---=*++++--+++++*******+++++#+:--=---:...:::**+=-==+++#**++==+**==......*-+***+*++=--=+
=*==-+--*+++++=++=+++=+#**++=-::--+---::-=+*-++++++++*#++=++++***++++=.::..:*++++++-=-************+*#**-:----=--..=**+===+++++***#**+==+*****+----=**#*+*+++=--=
++++==*+++*++++++=*++-#**++==---=:..-....+*#++++*+***+==*++****#+*+++=...:.**++++**==-+*****##****##***+-::---=-.=.=--==+*********##***++=++**-=+-=**%=+=-+===-=
++****+++****+++++++==###............=....*#+***+*##=+++==+***####*+++:---.*=*+*+****--**#######*#*+==*++*::::-=-====++****#####*###*##*****+*-:===-#*+-========
****#++++***+**+==+=###*...=:......:.....-==#***##*#######***#####*+*+-::---=*#**********#####*--========+++==-=-===++***#######+**#####*****==-==-=-**--=====++
**##*+++*+++**+=-:**###+#+==+-----:---======++#*##****##*#-=**#******-:::::--=+#***#**-*#####+-::-:--==+===:--=.-====++***####*+=++###*+**+**+**.-:-===+==+++***
**###+++++++====::*****+==+=---:--=-=--++=---===+###***#***-=+==+*+=-:-----+===++*#**-*####=-=+#--=---:-===::....:=====****##+*=++####**#***#***=-:::---++***#**


"""
import streamlit as st

# ---------- Helper functions ----------
PRINTABLE_START = 32   # space
PRINTABLE_END = 126    # tilde
PRINTABLE_COUNT = PRINTABLE_END - PRINTABLE_START + 1  # 95 printable chars

def _is_preserve_char(ch: str) -> bool:
    """
    Return True for characters we should NOT shift because they are
    whitespace or control characters that must remain exact for ASCII art.
    """
    return ch in ("\n", "\r", "\t", " ")

def _shift_char_forward(ch: str, shift: int) -> str:
    """Shift a single printable ASCII char forward by `shift` within printable range."""
    o = ord(ch)
    if PRINTABLE_START <= o <= PRINTABLE_END:
        base = o - PRINTABLE_START
        new = (base + (shift % PRINTABLE_COUNT)) % PRINTABLE_COUNT
        return chr(PRINTABLE_START + new)
    return ch

def _shift_char_backward(ch: str, shift: int) -> str:
    """Reverse of _shift_char_forward."""
    o = ord(ch)
    if PRINTABLE_START <= o <= PRINTABLE_END:
        base = o - PRINTABLE_START
        new = (base - (shift % PRINTABLE_COUNT)) % PRINTABLE_COUNT
        return chr(PRINTABLE_START + new)
    return ch

def encode_text(text: str, key1: int, key2: int) -> str:
    """Shift printable ASCII characters using key1 and key2 alternately.
    Whitespace (space, newline, tab, carriage return) is preserved to keep ASCII art shape.
    """
    out = []
    for i, ch in enumerate(text):
        if _is_preserve_char(ch):
            out.append(ch)
        else:
            shift = key1 if i % 2 == 0 else key2
            out.append(_shift_char_forward(ch, shift))
    return "".join(out)

def decode_text(text: str, key1: int, key2: int) -> str:
    """Reverse operation of encode_text."""
    out = []
    for i, ch in enumerate(text):
        if _is_preserve_char(ch):
            out.append(ch)
        else:
            shift = key1 if i % 2 == 0 else key2
            out.append(_shift_char_backward(ch, shift))
    return "".join(out)


# Precompute encoded versions (these are the "locked" texts).
# Choose the secret key pairs you want to use to lock each passage:
SECRET1 = (20, 10)
SECRET2 = (77, 77)

encoded1 = encode_text(text1, SECRET1[0], SECRET1[1])
encoded2 = encode_text(text2, SECRET2[0], SECRET2[1])

# ---------- Streamlit UI ----------
# st.set_page_config(page_title="ASCII Unlocker", layout="centered")
st.set_page_config(page_title="ASCII Unlocker", layout="wide")
st.title("üîê ASCII Unlocker ‚Äî use sliders to find the key (but it was solved by Dan Thuong)")


with st.empty():
    st.cache_data.clear()
    while 1:
        for num1 in range(100):
            for num2 in range(100):
                close_score = min((abs(num1 - SECRET1[0]), abs(num2 - SECRET1[1])))
                if (random.random() < 0.99999*(1-float(close_score/14000))) and ((num1,num2) != SECRET1) and ((num1,num2) != SECRET2) :
                    continue
                    
                decoded_try_1 = decode_text(encoded1, num1, num2)
                decoded_try_2 = decode_text(encoded2, num1, num2)

                # Display logic
                if decoded_try_1 == text1:
                    st.success("üéâ You unlocked Passage 1!")
                    st.code(text1, language="text")
                    time.sleep(2)
                elif decoded_try_2 == text2:
                    st.success("üéâ You unlocked Passage 2!")
                    st.code(text2, language="text")
                    time.sleep(2)
                else:
                    # If not unlocked, show the scrambled preview (monospace) so user can see progress
                    st.info("Current decode attempt (scrambled):")
                    st.code(decoded_try_1, language="text")
                    time.sleep(.1)
                    st.caption("Keep tuning the sliders to recover the original ASCII art!")
                    
                
                st.markdown("---")
                st.caption("Secrets used in this demo: Passage1=(12,34), Passage2=(56,78). Replace or hide these in production.")


# with st.empty():
#     for seconds in range(10):
#         st.code(f"‚è≥ {seconds} seconds have passed")
#         time.sleep(1)
#     st.write(":material/check: 10 seconds over!")
# st.button("Rerun")

# with col1:
#     num1 = st.slider("Key 1", min_value=0, max_value=100, value=0)
# with col2:
#     num2 = st.slider("Key 2", min_value=0, max_value=100, value=0)

# close_score = min((abs(num1 - SECRET1[0]) + abs(num2 - SECRET1[1])),

# abs(num1 - SECRET2[0]) + abs(num2 - SECRET2[1]))  
# if (close_score) < 10:
#     st.write(f"üî•üî•üî•üî•")
# elif  close_score < 30:
#     st.write(f"üî•üî•")
# elif  close_score< 50:
#     st.write(f"üî•")
# elif  close_score < 70:
#     st.write(f"‚ùÑÔ∏è")
# elif  close_score < 90:
#     st.write(f"‚ùÑÔ∏è‚ùÑÔ∏è")
# elif  close_score < 110:
#     st.write(f"‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è")
# else:
#     st.write(f"‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è")



# # Try to decode both locked texts with the user's keys
# decoded_try_1 = decode_text(encoded1, num1, num2)
# decoded_try_2 = decode_text(encoded2, num1, num2)

# # Display logic
# if decoded_try_1 == text1:
#     st.success("üéâ You unlocked Passage 1!")
#     st.code(text1, language="text")
# elif decoded_try_2 == text2:
#     st.success("üéâ You unlocked Passage 2!")
#     st.code(text2, language="text")
# else:
#     # If not unlocked, show the scrambled preview (monospace) so user can see progress
#     st.info("Current decode attempt (scrambled):")
#     st.code(decoded_try_1, language="text")
#     st.caption("Keep tuning the sliders to recover the original ASCII art!")


# st.markdown("---")
# st.caption("Secrets used in this demo: Passage1=(12,34), Passage2=(56,78). Replace or hide these in production.")
